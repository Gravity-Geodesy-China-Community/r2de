## 软件需求分析

软件前期的需求分析是非常重要的一个环节，需求分析的不足将会给后期的开发、运维带来较大的工作量，且问题的增长是非线性的。

### 什么是软件需求

软件需求定义：以一种清晰、简洁、一致且无二义性的方式，描述用户对目标软件系统在功能、行为、性能、设计约束等方面的期望，是在开发过程中对系统的约束。

>  软件需求(Software Requirements)——IEEE, 1997
>
> ◦用户解决问题以达到特定目标所需的能力（用户的角度）
>
> ◦系统或系统构件要满足的合同、标准、规范或其他正式文档所需具备的能力（系统的角度） 
>
> ◦一种反应上述能力的文档说明

需求通常用于表达“做什么”，而不描述“如何做”。==需求是软件成败的关键！！==

### 软件需求分析的作用

> ◦充分理解现实中的业务问题，并作为软件设计的基础
>
> ◦为软件项目的成本、时间、风险估计提供准确的依据
>
> ◦减少开发工作量，避免将时间与资源浪费在设计与实现错误的需求上
>
> ◦通过提供需求文档和需求基线，来有效的管理系统演化与变更
>
> ◦作为顾客与开发团队之间正式合同的一部分
>
> ◦为最终的验收测试提供标准和依据

### 需求分析的方法

•结构化方法：功能的分析与抽象，自顶向下进行分析

•面向数据结构的方法

==•面向对象的方法：以对象作为分析问题解决问题的核心==---利用OO的概念和方法对软件需求建造模型，以使用户需求逐步精确化、一致化、完全化。

•形式化软件规格说明技术：通过数学推演和形式化方法严格定义用户需求

### 需求文档要素

1. 项目背景（现状与不足，拟解决的问题，应用场景分析等）
2. 功能设计（软件具有的具体功能、子模块、交互逻辑）
3. 非功能需求（用户对响应时间、安全性、界面、可拓展性的约束）



### UML软件建模

#### 什么是UML（Unified Modeling Language）建模？

它是由一整套图标组成的标准化建模语言，UML用于帮助系统开发人员阐明，展示，构建和记录软件系统的产出[^1]。

#### UML的主要特点：

1. 为用户提供现成的、有表现力的可视化建模语言，以便他们开发和交换有意义的模型。
2. 为核心概念提供可扩展性 (Extensibility) 和特殊化 (Specialization) 机制。
3. 独立于特定的编程语言和开发过程。
4. 为了解建模语言提供一个正式的基础。
5. 鼓励面向对象工具市场的发展。
6. 支持更高层次的开发概念，如协作，框架，模式和组件。
7. 整合最佳的工作方法 (Best Practices)。

#### UML建模常用工具

1. ArgoUML
2. StarUML
3. Microsoft visio
4. 在线工具（[process on](https://www.processon.com/)）

#### UML建模流程：

![UML](https://gitee.com/georgegou/gravitychina/raw/picture/202112142321921.png)

上图可能看起来少许复杂，简单来说：

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142322439.png)

#### 用例图

用例图描述**系统用户与系统自身**之间的典型应用。

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142323876.png)

#### 顺序图

**顺序图是显示对象之间交互的图，这些对象是按时间顺序排列的，它显示参与交互的对象及对象之间消息交互的顺序。**

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142323187.png)

#### 状态图

UML中的状态图用于描述**一个对象**在其生存周期内的动态行为。描述一个特定对象的所有可能状态以及由于各种事件（event）的发生而引起状态之间的转移。

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142324184.png)

#### 类图

类图是使用最广泛的UML模型之一，广泛应用于软件开发的不同阶段。

类图是描述类、类或对象之间协作、接口及其关系的图，用于详细展现系统内各类的静态结构。

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142325597.png)

##### 类之间主要的关系：

有三种主要的关系：

1. 关联 - 代表类型之间的关系（一个人为公司工作，一间公司有多个办事处）。
2. 继承 - 专为将实例关系图 (ERD) 应用于面向对象设计而设的一种关系。它在面向对象设计中的继承概念互相呼应。
3. 聚合 - 面向对象设计中的一种对象组合 的形式。

#### 活动图

活动图描述需要做的活动以及执行这些活动的顺序。实际上在说明层或者实现层，**活动表示类中实现的方法**。

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142325157.png)

#### 通信图

与序列图类似，通信图也用于模拟用例的动态行为。与序列图相比，通信图更侧重于显示对象的协作而不是时间顺序。

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142326028.png)

## 软件设计

软件的设计主要包含**架构设计**、**模块设计**、**接口设计**、**数据结构设计**。下面将一一介绍上述设计流程。

### 架构设计

在完成需求分析之后，为了实现软件需求规格书的要求，必须将用户和系统的需求转化为对**计算机系统的逻辑定义（即模块结构）**。价格设计的核心价值为**“应用各种技术和原理，对设备、过程或系统做出足够详细的描述，使之能够在物理上得以实现”**。

#### 架构设计的阶段

从工程的角度包含**总体设计与详细设计**。

从技术的角度包括**体系设计、数据设计、接口设计和过程设计**。

#### 关键设计原则

**关注点分离**：将程序分解为独立的、功能重叠部分尽可能少的一个个模块，从而达到**高内聚和低耦合**。错误地分解功能会导致高耦合，其至导致每个功能模块内部的子功能模块之间的复杂性会隐含地重叠。

**单一职责原则**：每个组件或者模块应负责一个特定特征或功能，或者内聚功能的集合

#### 架构失败的主要原因

| 被忽略的重要非功能需求 | **对策：全面认识需求**                     |
| ---------------------- | ------------------------------------------ |
| 频繁变化的需求         | 对策：关键需求决定架构                     |
| 考虑不全面的架构设计   | **对策：制定有效的设计决策**               |
| 不及时的架构验证       | **对策：尽早验证架构**                     |
| 较高的创造性架构比重   | **对策：合理分配经验架构与创新架构比重**   |
| 架构的低可执行性       | **对策：验证架构的可执行性，避免过度设计** |
|                        |                                            |

<!--当然，关于系统架构的知识相当繁琐，这里只是提一下，以后我们有机会单独拿出一章篇幅讲这个问题。-->

### 模块设计

#### 什么是模块？

模块又称为“构件”，指用一个名字可以调用的一段程序。具有功能、逻辑、接口、状态等组成部分。

模块设计尽可能降低耦合性（coupling），提高程序的可维护性；提高内聚性（Cohesion），其表示一个模块内各个元素彼此结合的紧密程度。

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142326402.png)



### 数据库设计

1. 理解用户需求，了解业务
2. 确定ER（Entity-Relationship）图表和数据字典
3. 创建模式
4. 从输入输出下手
5. 在物理实践之前进行逻辑设计
6. 采用有意义的命名

![](https://gitee.com/georgegou/gravitychina/raw/picture/202112142327906.png)


## 参考文献

[1^]: https://www.visual-paradigm.com/cn/guide/uml-unified-modeling-language/what-is-uml/